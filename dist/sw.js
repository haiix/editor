(()=>{"use strict";(new class{constructor(){this.namespace=location.pathname.slice(1,location.pathname.lastIndexOf("/")),this.base=location.protocol+"//"+location.host+"/"+this.namespace+"/",this.dbSchema={name:this.namespace,version:1,onupgradeneeded(e,t,n){n<1&&e.createObjectStore("files",{keyPath:"path"})}}}main(){const e=this.base;self.addEventListener("install",(t=>{console.log("2022-03-11T09:23:03.439Z"),t.waitUntil(async function(t){const n=[e,e+"dist/main.js",e+"dist/1.js",e+"dist/191.js",e+"app.webmanifest",e+"icons/icon-32.png",e+"icons/icon-192.png",e+"icons/icon-512.png",e+"blank","https://fonts.googleapis.com/icon?family=Material+Icons&display=swap","https://fonts.gstatic.com/s/materialicons/v125/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2","https://cdn.jsdelivr.net/npm/@zip.js/zip.js@2.3.18/dist/zip.min.js"],s=await caches.open(t.namespace);await s.addAll(n)}(this))})),self.addEventListener("fetch",(e=>{e.respondWith(this.createResponse(e.request))}))}async createResponse(e){let t=e.url;const n=this.base+"debug/";if((t+"/").startsWith(n)){t=t.split("?")[0].split("#")[0];const e=await async function(e,s,a,o){const i=await function({name:e="",version:t=1,onupgradeneeded:n=null}){return new Promise(((s,a)=>{const o=self.indexedDB.open(e,t);o.onupgradeneeded=e=>{try{n(o.result,o.transaction,e.oldVersion)}catch(e){a(e)}},o.onsuccess=e=>{s(o.result)},o.onerror=e=>{a(e.target.error)}}))}(e);return await new Promise(((e,a)=>{let o;const c=i.transaction(s,"readonly");c.oncomplete=t=>{i.close(),e(o)},c.onerror=e=>{i.close(),a(e.target.error)};try{o=(e=>function({index:e,range:t=null,direction:n="next",forEach:s}){return new Promise(((a,o)=>{let i;const c=e.openCursor(t,n);c.onsuccess=e=>{const t=c.result;if(t){try{i=s(t.value,t)}catch(e){o(e)}t.advance(void 0===i?1:4294967295)}else a(i)},c.onerror=e=>{o(e.target.error)}}))}({index:e.objectStore("files").index("path"),range:IDBKeyRange.only(t.slice(n.length)+("/"===t.slice(-1)?"index.html":"")),forEach:e=>e}))(c)}catch(e){c.abort(),i.close(),a(e)}}))}(this.dbSchema,["files"]);let s=null,a=null;return e?e.file?s=e.file:a={status:301,headers:{Location:t+"/"}}:a={status:404},new Response(s,a)}return await caches.match(e)||await fetch(t)}}).main()})();